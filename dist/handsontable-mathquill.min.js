!function(t,e){var i=t.editors.BaseEditor.prototype.extend();i.prototype.init=function(){this.mathFieldEl=document.createElement("SPAN"),t.Dom.addClass(this.mathFieldEl,"mathquillEditor"),this.mathFieldEl.style.display="none",this.instance.rootElement.appendChild(this.mathFieldEl)},i.prototype.prepare=function(){t.editors.BaseEditor.prototype.prepare.apply(this,arguments);var i=this;this.MQ=e.getInterface(2),this.mathField=this.MQ.MathField(this.mathFieldEl,{spaceBehavesLikeTab:!0,handlers:{enter:function(){i.finishEditing()}}}),this.mathField.reflow()},i.prototype.getValue=function(){return this.mathField.latex()},i.prototype.setValue=function(t){this.mathField.latex(t||"")},i.prototype.open=function(){var e=t.Dom.outerWidth(this.TD),i=t.Dom.outerHeight(this.TD),l=t.Dom.offset(this.instance.rootElement),o=t.Dom.offset(this.TD);this.mathFieldEl.style.minHeight=i+"px",this.mathFieldEl.style.minWidth=e+"px",this.mathFieldEl.style.background="white",this.mathFieldEl.style.position="absolute",this.mathFieldEl.style.top=o.top-l.top+"px",this.mathFieldEl.style.left=o.left-l.left+"px",this.mathFieldEl.style.margin="0px",this.mathFieldEl.style.display="",this.mathField.reflow()},i.prototype.close=function(){this.mathFieldEl.style.display="none"},i.prototype.focus=function(){this.mathField.focus()};var l=function(i,l,o,r,s,a,h){var n=document.createElement("SPAN");t.Dom.addClass(n,"mathquillRenderer"),n.textContent=a;var d=e.getInterface(2),p=d.StaticMath(n);return t.Dom.empty(l),l.appendChild(n),p.reflow(),l};t.editors.MathquillEditor=i,t.editors.registerEditor("mathquill",i),t.renderers.MathquillRenderer=l,t.renderers.registerRenderer("mathquill",l),t.cellTypes.mathquill={editor:t.editors.MathquillEditor,renderer:t.renderers.MathquillRenderer}}(Handsontable,MathQuill);